<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                template="/resources/templates/standard.xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core">


    <f:metadata>
        <f:event type="preRenderView" listener="#{projectBean.paginate(10)}"/>
    </f:metadata>

    <ui:param name="pageTitle" value="Msc Projects DB" />



    <ui:define name="main">

        <div class="home">
            <h2>We have students ready to take on cool and interesting projects </h2>

            <div class="projects">
                <h3 class="i-project"><h:outputText id="total" value="#{projectBean.getCount()}" /> Projects
                    <h:link class="button" outcome="/project/search" value="Advanced Search" />
                </h3>

                <h:dataTable id="projectBeanPageItems" styleClass="data-table"  rowClasses="even, odd" columnClasses="deadline, title"  value="#{projectBean.pageItems}" var="_item">
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Title"/>
                        </f:facet>
                        <h:link outcome="/project/view">
                            <f:param name="id" value="#{_item.id}"/>
                            <h:outputText styleClass="projectname" id="itemDeadline" value="#{_item.name}" />
                            <h:outputText styleClass="orgname" id="itemOrganisation" value="#{_item.organisation.orgname}" />
                        </h:link>
                    </h:column>
                    <h:column class="posted">
                        <f:facet name="header" class="posted-header">
                            <h:outputText value="Added"/>
                        </f:facet>
                        <h:outputText styleClass="posted" id="itemAdded" value="#{_item.added}">
                            <f:convertDateTime type="date"/>
                        </h:outputText>
                    </h:column>
                </h:dataTable>



            </div>

            <div class="organisations">
                <h3 class="i-idea">Have a cool idea you need developed?</h3>
                <p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec lectus a orci ornare viverra. </p><p>Maecenas sed nunc vitae neque lacinia gravida a a est. Donec porttitor suscipit lacus, eu tincidunt augue vehicula ac. Cras egestas dui vitae purus rhoncus pellentesque. Sed accumsan pretium mi eu ornare.</p>


                <h4>Some of our happy clients:</h4>
                <!-- Images taken from http://www.freelogohub.com/ -->
                <h:graphicImage value="resources/img/company_1.png"  width="100" height="50" />
                <h:graphicImage value="resources/img/company_2.png"  width="100" height="50" />
                <h:graphicImage styleClass="last" value="resources/img/company_3.png"  width="100" height="50" />
     

                <h:link class="button submit-idea" outcome="/organisation/login?mode=registration" value="Submit a cool idea &raquo;"/>     


            </div>


        </div>




    </ui:define>

</ui:composition>